\documentclass[11pt,twoside,openright]{article}
\usepackage[utf8]{inputenc}
\usepackage{amsthm}
\usepackage{algpseudocode}
\usepackage[export]{adjustbox}
\usepackage[font=small,labelfont=bf]{caption}
\usepackage{subcaption}
\usepackage[a4paper]{geometry}
\usepackage[toc, page]{appendix}
\usepackage{hyperref}
\usepackage[numbers]{natbib}
\usepackage{graphicx}
\usepackage{tabularx}
\usepackage{qtree}
\usepackage{mdframed}
\usepackage{framed}
\usepackage{siunitx}
\usepackage{placeins}
\usepackage{units}
\usepackage{xcolor}
\usepackage{lipsum}
\usepackage{algorithm}
\usepackage{amsmath}
\usepackage{paralist}
\usepackage{mdwlist}
\usepackage[labeled]{multibib}
\usepackage{array}
\usepackage{newfloat}
\usepackage{datetime}
\usepackage{changepage}

\usepackage{float}
\graphicspath{{Gnuplot/Graphs/}}
\makeatletter
\def\input@path{{Gnuplot/Graphs/}}
\makeatother

\newcommand{\figureBegin}{\begin{figure}\footnotesize}

\newcommand{\figureEnd}{\end{figure}}

\newcommand{\itab}[1]{\hspace{0em}\rlap{#1}}
\newcommand{\tab}[1]{\hspace{.2\textwidth}\rlap{#1}}

\DeclareFloatingEnvironment{floatdef}
\newtheorem{definition}{Definition}
\newcommand{\defBegin}{
	\vspace{0.5 cm}
	\begin{mdframed}[nobreak, linecolor=lightgray, linewidth=2pt]
	\begin{definition}
}
\newcommand{\defEnd}{
	\end{definition}	
	\end{mdframed}
	\vspace{0.5 cm}
}

\newcites{A,B}{Primary Bibliography,Secondary Bibliography (not curriculum)}


%************************************************************

\begin{document}

\noindent{\rule{\linewidth}{1mm}\\[4ex]\huge
\textbf{Engineering Rank and Select Queries on Wavelet Trees}\\[3ex]
\Large
Jan H. Knudsen, 20092926\\
Roland L. Pedersen, 20092817\\[3ex]
\textit{Master's Thesis, Computer Science}\\
\large
Advisor: Gerth St√∏lting Brodal\\
\monthname, \the\year\\
\noindent\rule{\linewidth}{1mm}\\[4ex]
\begin{center}
\includegraphics[width=0.9\textwidth]{WTdrawing.pdf}
\end{center}
}

\newpage
\tableofcontents
\newpage


\vspace*{\fill}
\input{abstract}
\vspace*{\fill}
\newpage

\part{The Wavelet Tree}

\input{intro}

\input{related}

\input{wavelettree}

\input{applications}

\newpage
\clearpage
\part{Hardware, Implementation \& Test}
In this part of the thesis we describe what hardware penalties we focus on optimizing and how and why they occur. 
We discuss choices we have made in the implementation like which C++ data structures to use. 
We also describe our test setup, what tools we have used for testing and discuss the effect of using uniform vs. non-uniform distributed data in our tests.

\input{cacheBranchTLB}

\input{implementationnotes}

\input{experimentationnotes}

\input{tools}

\newpage
\clearpage
\part{Algorithms \& Experiments}
This part of the thesis deals with what we have implemented, what optimizations we have made to reduce cache misses, branch mispredictions and translation lookaside buffer misses, and how we have tested and analysed these optimizations and their effect on the resulting running time and memory usage.
%\input{simplememorylayout}

\input{naive}

\input{pagerank}

\input{cumulativeSum}

\input{cumsumskew}

\newpage
\clearpage
\part{Conclusion}

\input{conclusion}

\input{futurework}


\input{appendix}

\addcontentsline{toc}{section}{Primary Bibliography}
\bibliographystyleA{unsrtnat}
\bibliographyA{Report}
\addcontentsline{toc}{section}{Secondary Bibliography (not curriculum)}
\bibliographystyleB{unsrtnat}
\bibliographyB{Report}

\end{document}
